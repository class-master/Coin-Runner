# Day1：走る・跳ぶ・避けるの日（7人×3時間用シナリオ）

## 0. 今日のゴール（先生が最初に読む用）

3時間で、次を「クラス全体」として完成させます。

1. 主人公（Player）が **右からくる障害物をジャンプで避けられる**  
2. コインと障害物が **左方向へ流れ続ける**  
3. HUDラベルに「Score / Energy」などの最低限の情報が表示される  

※ Day1 は「ゲームの芯（走る・跳ぶ・避ける）」に集中します。  
　パララックス背景や難易度カーブは Day2 以降のテーマです。

### 絶対ルール

- 触るファイルは主に `game/player.py`・`game/obstacle.py`・`scenes/play.py`
- `config.py` の数値や `core/` の中身は **読むだけOK／大きく書き換えない**
- 迷ったら先生かこのプリントに必ず戻る

---

## 1. 今日の7人の役割（先に割り当てる）

| No | 役割名                         | 触るファイル         | ざっくりやること                                        |
|----|--------------------------------|----------------------|---------------------------------------------------------|
| A  | プロジェクト起動担当           | `main.py`            | ゲームを起動できるようにする                            |
| B  | Playerジャンプ担当             | `game/player.py`     | 地面にいるときだけジャンプ初速を与える                  |
| C  | 障害物の移動・再配置担当       | `game/obstacle.py`   | 右から左へ流し、画面外に出たら右端へ再配置する          |
| D  | スポーン位置＆種類担当         | `game/spawner.py`    | Day1用ヘルパーの意味を理解し、`pick_kind` の挙動を確認  |
| E  | Playシーン組み立て担当         | `scenes/play.py`     | PlayerとObjを並べ、AABB当たり判定とScore/Energy更新     |
| F  | HUDメッセージ＆見た目担当      | `ui/hud.py` or `scenes/play.py` | HUDテキストの内容を整える            |
| G  | テスト＆バグログ担当           | `docs/Day1_buglog.md`| テストプレイとバグ／改善アイデアの記録                  |

> 先生へ：  
> 役割は途中で交代して構いません。  
> 「A：環境準備／B〜E：ゲームの動き／F：見た目／G：記録」というイメージです。

---

## 2. 今日の時間割（板書用）

- 0:00〜0:10　ゲーム内容の紹介＆Day1のゴール共有
- 0:10〜0:25　実行確認（`python main.py` が動くか）
- 0:25〜1:10　**個人作業タイム**（B〜Eの担当ごとにコーディング）
- 1:10〜1:40　F主導で見た目＆HUDの調整
- 1:40〜2:20　G主導でテスト＆バグログ作成
- 2:20〜3:00　今日のふりかえり＆Day2へのつながり確認

---

## 3. 各役割の「やることチェックリスト」

### 3-1. A：プロジェクト起動担当

**目的**：全員が `python main.py` でゲームを起動できるようにする。

- [ ] ターミナル（またはVSCode内ターミナル）を開いた
- [ ] プロジェクトフォルダに移動した（`cd Coin-Runner-main`）
- [ ] 必要なら `pip install -r requirements_day1.txt` を実行した
- [ ] `python main.py` でウィンドウが開くことを確認した
- [ ] うまくいかなかった人のエラー内容をチームに共有した

---

### 3-2. B：Playerジャンプ担当（`game/player.py`）

**目的**：地面にいるときだけジャンプ可能にする。

- [ ] `Player.jump` メソッドのTODOコメントを見つけた
- [ ] `on_ground` フラグの意味を理解した
- [ ] 「地面にいるときだけ縦速度vyにジャンプ初速を与える」処理を実装した
- [ ] ジャンプ後は `on_ground=False` にすることを確認した
- [ ] 着地したら `on_ground=True` に戻す処理がどこかにあるか探した

ヒント（コメント例）：

```python
    def jump(self, P):
        # 地面にいるときだけジャンプ可能
        # if self.on_ground:
        #     self.vy = P.JUMP_V
        #     self.on_ground = False
        #     return True
        # return False
        ...
```

---

### 3-3. C：障害物の移動・再配置担当（`game/obstacle.py`）

**目的**：障害物が左に流れ、画面外に出たら右端に再配置する。

- [ ] `update` / `tick` / `recycle_to_right` の3つのメソッドを確認した
- [ ] `update` で `x` を左に動かし、画面外で `alive=False` にする処理を理解した
- [ ] `recycle_to_right` で右端に再配置する処理を実装した（x, y, speed, kindを使う）
- [ ] `kind` によって色を変える処理がどこにあるか確認した（Playシーン内）

---

### 3-4. D：スポーン位置＆種類担当（`game/spawner.py`）

**目的**：Day1の簡易スポーンロジックを理解し、「なぜこう動くのか」を説明できるようにする。

- [ ] `initial_x` と `pick_kind` の意味を読む（コメントを声に出して説明してみる）
- [ ] `P.COIN_RATE` の値を確認し、「コインがどれくらいの確率で出るか」を計算した
- [ ] 余裕があれば、`pick_kind` の中身を少し変えて「障害物多め／コイン多め」の案を考えてメモした
- [ ] Day2以降で使う `SpawnState` クラスの存在だけ確認しておく（中身はまだ見なくてOK）

---

### 3-5. E：Playシーン組み立て担当（`scenes/play.py`）

**目的**：Playerと障害物を並べ、当たり判定とScore/Energy更新を行う。

- [ ] `Play.on_pre_enter` で Player と Obj を生成・配置している部分を確認した
- [ ] `update` メソッドで `self.objects` をループしている箇所を探した
- [ ] AABB（矩形同士の当たり判定）でぶつかったときの処理を追いかけた
- [ ] `score` がコインで増え、`energy` が障害物で減ることを確認した
- [ ] `energy<=0` で `game_over=True` になる流れを理解した

---

### 3-6. F：HUDメッセージ＆見た目担当（`ui/hud.py` / `scenes/play.py`）

**目的**：ゲームの状態を分かりやすいテキストで表示する。

- [ ] `self.lbl.text = f"...` の部分を見つけた
- [ ] ScoreとEnergyの数字だけでなく、簡単な説明文も足してみた  
      例：`"Score: 30  Energy: 80\nSpaceでジャンプ！"`
- [ ] 将来使うかもしれない `ui/hud.py` の `HUD` クラスを読んで、何を返しているかだけ確認した

---

### 3-7. G：テスト＆バグログ担当（`docs/Day1_buglog.md`）

**目的**：Day1 のゲームを遊んでみて、バグや改善アイデアを文章に残す。

- [ ] 少なくとも3回以上プレイした
- [ ] 「ジャンプの高さ／スピード／障害物の量」について感想を書いた
- [ ] バグや改善案を1件ずつタイトル付きで記録した

---

## 4. 全員共通のNGリスト

- 他の人の担当部分を勝手に削除しない（修正したいときは必ず相談する）
- エラーが出たときに、**黙ってコードを消してしまわない**
- 難しいと感じたら、一人で抱え込まずチームと先生に共有する

---

## 5. 今日のまとめメモ欄（クラス用）

- 今日できたこと：

- 次にやりたいこと（Day2 への発展案など）：
